parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"/DKR":[function(require,module,exports) {
var t=document.querySelector("body");function e(){r()}function r(){fetch("songs/Backstreet%20Boys%20-%20Want%20it%20that%20way/Backstreet%20Boys%20-%20Want%20it%20that%20way.txt").then(function(t){return t.text()}).then(function(t){o(t)})}document.addEventListener("DOMContentLoaded",e);var n={groups:[]};function o(t){var e=t.split("\n"),r={};e.filter(function(t){return 0==t.indexOf("#")}).forEach(function(t){var e=t.substr(1,t.indexOf(":")-1).toLowerCase(),n=t.substr(t.indexOf(":")+1,t.length-t.indexOf(":")).trim();"bpm"==e&&(n=parseInt(n.replace(",","."))),r[e]=n});var o=e.filter(function(t){return 0!=t.indexOf("#")}),u=[];o.forEach(function(t){lineArrayData=t.split(/\s/),filteredLineArrayData=lineArrayData.filter(function(t){return/\S/.test(t)});var e={};"-"!=filteredLineArrayData[0]?(e={type:filteredLineArrayData[0],time:s(r.bpm,filteredLineArrayData[1]),length:s(r.bpm,filteredLineArrayData[2]),tone:parseInt(filteredLineArrayData[3]),word:filteredLineArrayData[4]},u.push(e)):(n.groups.push({group_duration:0,group:u,group_start:0,group_end:0,group_gap_start:0,group_gap_end:0}),u=[])}),(n=Object.assign({},n,r)).groups.forEach(function(t,e){var r=t.group,o=r[r.length-1];if(0==e){var a=n.groups[e+1].group,u=o.time-0,i=(a[0].time-(o.time+o.length))/2,g=u+i+(o.time+o.length-r[0].time),p=o.time+o.length+i;n.groups[e].group_gap_start=u,n.groups[e].group_gap_end=i,n.groups[e].group_duration=g,n.groups[e].group_end=p,n.groups[e].group_start=0}else if(e==n.groups.length-1){var s=n.groups[e-1].group,l=(r[0].time-(s[s.length-1].time+s[s.length-1].length))/2,c=t.group_end-o.time+o.length,f=l+c+(o.time+o.length-r[0].time),d=o.time+o.length+c,h=r[0].time-l;n.groups[e].group_gap_start=l,n.groups[e].group_gap_end=c,n.groups[e].group_duration=f,n.groups[e].group_end=d,n.groups[e].group_start=h}else{var m=n.groups[e-1].group,v=n.groups[e+1].group,_=(r[0].time-(m[m.length-1].time+m[m.length-1].length))/2,y=(v[0].time-(o.time+o.length))/2,b=_+y+(o.time+o.length-r[0].time),w=o.time+o.length+y,D=r[0].time-_;n.groups[e].group_gap_start=_,n.groups[e].group_gap_end=y,n.groups[e].group_duration=b,n.groups[e].group_end=w,n.groups[e].group_start=D}}),console.log(n),a()}function a(){document.createDocumentFragment(),Math.max.apply(Math,n.groups.map(function(t){return t.group_duration}));n.groups.forEach(function(t,e){var r=u(t.group_duration,30,10);p(r,t.group_duration,30,10);var n=t.group_start;t.group.forEach(function(t){if(0==e){var o=t.time,a=t.length,u=300-10*t.tone;i(r,o,a,u)}else{var g=t.time-n,p=t.length,s=300-10*t.tone;i(r,g,p,s)}}),g(r,t.group_duration,t.group)})}function u(t,e,r){var n=document.querySelector("#pitch-track .canvas-container"),o=document.createElement("canvas"),a=o.getContext("2d");return o.className="pitch-group",o.width=t,o.height=e*r,n.appendChild(o),a}function i(t,e,r,n){t.fillStyle="red",t.fillRect(e,n-5,r,10)}function g(t,e,r){var n=[];r.forEach(function(t){n.push(t.word)});var o=n.join(" ");t.fillStyle="blue",t.font="bold 60px Arial",t.fillText(o,e/2-20,70)}function p(t,e,r,n){for(var o=r*n/10,a=0,u=0;u<=10;u++)t.beginPath(),t.moveTo(0,a),t.lineTo(e,a),t.lineWidth=1,t.strokeStyle="#3B4839",t.stroke(),a+=o}function s(t,e){return Math.floor(e/(4*t)*60*1e3)}var l=400,c=1/(l/60),f=60;function d(t){var e=t/c;return Math.floor(e+c/2)}var h=0;function m(){var t=document.querySelector("#pitch-track .canvas-container");h-=100,t.style.transform="translateX("+h+"vw)",console.log(h)}var v=document.querySelector(".start-button");function _(){k(),startGap=parseInt(n.youtubegap)+parseInt(n.gap),setTimeout(function(){D=setInterval(x,w)},startGap)}v.addEventListener("click",_);var y=0,b=0,w=100,D=void 0;function x(){b+=w,console.log(n.groups[y].group_end),b>=n.groups[y].group_end&&(m(),++y)}var E=document.createElement("script");E.src="https://www.youtube.com/iframe_api";var L=document.getElementsByTagName("script")[0];L.parentNode.insertBefore(E,L);var A=void 0;function S(){A=new YT.Player("player",{height:"720",width:"1080",videoId:"4fndeDfaWCg",events:{}})}function k(t){A.playVideo()}function B(){A.stopVideo()}
},{}]},{},["/DKR"], null)
//# sourceMappingURL=main.3cb3d2a8.map